"use strict";(globalThis.webpackChunkphysical_ai_humanoid_robotics_book=globalThis.webpackChunkphysical_ai_humanoid_robotics_book||[]).push([[192],{4373:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>o,default:()=>h,frontMatter:()=>t,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"module-1-robotic-nervous-system/chapter-1-5-launch-files-parameters","title":"Launch Files and Parameters","description":"Goal","source":"@site/docs/module-1-robotic-nervous-system/chapter-1-5-launch-files-parameters.md","sourceDirName":"module-1-robotic-nervous-system","slug":"/module-1-robotic-nervous-system/chapter-1-5-launch-files-parameters","permalink":"/physical-ai-humanoid-robotics-book/docs/module-1-robotic-nervous-system/chapter-1-5-launch-files-parameters","draft":false,"unlisted":false,"editUrl":"https://github.com/your-org/physical-ai-humanoid-robotics-book/tree/main/docs/module-1-robotic-nervous-system/chapter-1-5-launch-files-parameters.md","tags":[],"version":"current","frontMatter":{"id":"chapter-1-5-launch-files-parameters","title":"Launch Files and Parameters","sidebar_label":"Launch Files and Parameters"},"sidebar":"book","previous":{"title":"Python rclpy Programming","permalink":"/physical-ai-humanoid-robotics-book/docs/module-1-robotic-nervous-system/chapter-1-4-python-rclpy-programming"},"next":{"title":"Sensor Integration","permalink":"/physical-ai-humanoid-robotics-book/docs/module-1-robotic-nervous-system/chapter-1-6-sensor-integration"}}');var s=i(4848),r=i(8453);const t={id:"chapter-1-5-launch-files-parameters",title:"Launch Files and Parameters",sidebar_label:"Launch Files and Parameters"},o="Launch Files and Parameters",l={},c=[{value:"Goal",id:"goal",level:2},{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Overview",id:"overview",level:2},{value:"Key Concepts",id:"key-concepts",level:2},{value:"Step-by-Step Breakdown",id:"step-by-step-breakdown",level:2},{value:"Code Examples",id:"code-examples",level:2},{value:"Diagrams",id:"diagrams",level:2},{value:"Case Study",id:"case-study",level:2},{value:"References",id:"references",level:2},{value:"Review Questions",id:"review-questions",level:2},{value:"Practical Exercises",id:"practical-exercises",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"launch-files-and-parameters",children:"Launch Files and Parameters"})}),"\n",(0,s.jsx)(n.h2,{id:"goal",children:"Goal"}),"\n",(0,s.jsx)(n.p,{children:"Learn to create and use ROS 2 launch files to manage complex robot systems and configure parameters for humanoid robot applications."}),"\n",(0,s.jsx)(n.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Create launch files to start multiple nodes simultaneously"}),"\n",(0,s.jsx)(n.li,{children:"Configure and manage parameters for robot systems"}),"\n",(0,s.jsx)(n.li,{children:"Use launch arguments for flexible deployments"}),"\n",(0,s.jsx)(n.li,{children:"Understand the launch system architecture in ROS 2"}),"\n",(0,s.jsx)(n.li,{children:"Implement best practices for organizing launch files"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"overview",children:"Overview"}),"\n",(0,s.jsx)(n.p,{children:"Launch files in ROS 2 allow you to start multiple nodes with specific configurations simultaneously. For humanoid robots, which typically involve dozens of nodes for control, perception, and communication, launch files are essential for system management. Parameters provide a way to configure node behavior without recompiling code, which is crucial for tuning robot performance across different scenarios."}),"\n",(0,s.jsx)(n.h2,{id:"key-concepts",children:"Key Concepts"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Launch Files"}),": XML or Python files that define how to start multiple nodes"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Launch Arguments"}),": Parameters that can be passed to launch files at runtime"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Parameters"}),": Configuration values that nodes can access at runtime"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Composable Nodes"}),": Nodes that can be loaded into a single process"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Launch Conditions"}),": Conditional execution of launch elements"]}),"\n",(0,s.jsxs)(n.li,{children:[(0,s.jsx)(n.strong,{children:"Node Remapping"}),": Changing topic/service names at launch time"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"step-by-step-breakdown",children:"Step-by-Step Breakdown"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Launch File Structure"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Launch files can be written in Python or XML"}),"\n",(0,s.jsx)(n.li,{children:"Python launch files offer more flexibility and logic"}),"\n",(0,s.jsx)(n.li,{children:"XML launch files are more declarative"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Creating Launch Files"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Define the launch file function"}),"\n",(0,s.jsx)(n.li,{children:"Add nodes to the launch description"}),"\n",(0,s.jsx)(n.li,{children:"Include other launch files if needed"}),"\n",(0,s.jsx)(n.li,{children:"Set up parameters and arguments"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Parameter Management"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Define parameters in launch files"}),"\n",(0,s.jsx)(n.li,{children:"Load parameters from YAML files"}),"\n",(0,s.jsx)(n.li,{children:"Pass parameters to nodes"}),"\n",(0,s.jsx)(n.li,{children:"Use parameter files for different configurations"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Launch Arguments"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Define arguments that can be passed at runtime"}),"\n",(0,s.jsx)(n.li,{children:"Use arguments to customize launch behavior"}),"\n",(0,s.jsx)(n.li,{children:"Provide default values for arguments"}),"\n"]}),"\n"]}),"\n",(0,s.jsxs)(n.li,{children:["\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Advanced Launch Features"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Conditional launching based on arguments"}),"\n",(0,s.jsx)(n.li,{children:"Including other launch files"}),"\n",(0,s.jsx)(n.li,{children:"Composable nodes for performance"}),"\n",(0,s.jsx)(n.li,{children:"Node remapping for flexible connections"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"code-examples",children:"Code Examples"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-python",children:"# Example launch file for a humanoid robot\nfrom launch import LaunchDescription\nfrom launch.actions import DeclareLaunchArgument\nfrom launch.substitutions import LaunchConfiguration\nfrom launch_ros.actions import Node, ComposableNodeContainer\nfrom launch_ros.descriptions import ComposableNode\n\ndef generate_launch_description():\n    return LaunchDescription([\n        # Declare launch arguments\n        DeclareLaunchArgument(\n            'use_sim_time',\n            default_value='false',\n            description='Use simulation clock if true'\n        ),\n\n        DeclareLaunchArgument(\n            'robot_name',\n            default_value='simple_humanoid',\n            description='Name of the robot'\n        ),\n\n        # Robot state publisher node\n        Node(\n            package='robot_state_publisher',\n            executable='robot_state_publisher',\n            name='robot_state_publisher',\n            parameters=[\n                {'use_sim_time': LaunchConfiguration('use_sim_time')},\n                {'robot_description':\n                 Command(['xacro ', FindFile('my_humanoid_description',\n                                           'urdf/simple_humanoid.urdf.xacro')])}\n            ],\n            remappings=[\n                ('/tf', 'tf'),\n                ('/tf_static', 'tf_static')\n            ]\n        ),\n\n        # Joint state publisher node\n        Node(\n            package='joint_state_publisher',\n            executable='joint_state_publisher',\n            name='joint_state_publisher',\n            parameters=[\n                {'use_sim_time': LaunchConfiguration('use_sim_time')}\n            ]\n        ),\n\n        # Humanoid controller node\n        Node(\n            package='humanoid_controller',\n            executable='controller_node',\n            name='humanoid_controller',\n            parameters=[\n                {'use_sim_time': LaunchConfiguration('use_sim_time')},\n                {'robot_name': LaunchConfiguration('robot_name')},\n                # Load additional parameters from file\n                PathJoinSubstitution([\n                    FindPackageShare('humanoid_controller'),\n                    'config',\n                    'controller_params.yaml'\n                ])\n            ],\n            remappings=[\n                ('/joint_states', 'joint_states'),\n                ('/cmd_vel', 'cmd_vel')\n            ]\n        ),\n\n        # Composable node container for perception stack\n        ComposableNodeContainer(\n            name='perception_container',\n            namespace='',\n            package='rclcpp_components',\n            executable='component_container',\n            composable_node_descriptions=[\n                ComposableNode(\n                    package='image_proc',\n                    plugin='image_proc::RectifyNode',\n                    name='rectify_node',\n                    parameters=[\n                        {'use_sim_time': LaunchConfiguration('use_sim_time')}\n                    ]\n                ),\n                ComposableNode(\n                    package='depth_image_proc',\n                    plugin='depth_image_proc::PointCloudNode',\n                    name='pointcloud_node',\n                    parameters=[\n                        {'use_sim_time': LaunchConfiguration('use_sim_time')}\n                    ]\n                )\n            ],\n            output='screen'\n        )\n    ])\n"})}),"\n",(0,s.jsx)(n.p,{children:"Parameter configuration file example (YAML):"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-yaml",children:"/**:  # Apply to all nodes\n  ros__parameters:\n    use_sim_time: false\n\nrobot_state_publisher:\n  ros__parameters:\n    publish_frequency: 50.0\n    ignore_timestamp: false\n\nhumanoid_controller:\n  ros__parameters:\n    control_frequency: 200.0\n    balance_control:\n      kp: 10.0\n      ki: 0.1\n      kd: 0.05\n    walking_pattern:\n      step_height: 0.05\n      step_length: 0.3\n      step_duration: 1.0\n"})}),"\n",(0,s.jsx)(n.h2,{id:"diagrams",children:"Diagrams"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{children:"Launch System Architecture:\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Launch File     \u2502    \u2502 Parameter File  \u2502    \u2502 Node Definition \u2502\n\u2502 (Python/XML)    \u2502    \u2502 (YAML)          \u2502    \u2502 (Executable)    \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n          \u2502                      \u2502                      \u2502\n          \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                 \u2502\n                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                    \u2502     Launch Service      \u2502\n                    \u2502   (launch service)      \u2502\n                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                 \u2502\n                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                    \u2502     Process Manager     \u2502\n                    \u2502   (starts nodes)        \u2502\n                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                                 \u2502\n                    \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25bc\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n                    \u2502        Nodes            \u2502\n                    \u2502   (with parameters)     \u2502\n                    \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,s.jsx)(n.h2,{id:"case-study",children:"Case Study"}),"\n",(0,s.jsx)(n.p,{children:"In humanoid robotics, launch files are critical for managing the complex system architecture. A typical humanoid robot might have separate launch files for: perception stack, control stack, communication stack, and simulation interface. Parameters allow tuning of control gains, walking patterns, and sensor configurations without recompiling. For example, different parameter sets might be used for standing, walking, or running behaviors."}),"\n",(0,s.jsx)(n.h2,{id:"references",children:"References"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://docs.ros.org/en/humble/p/launch/",children:"ROS 2 Launch System"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://docs.ros.org/en/humble/How-To-Guides/Using-Parameters-In-A-Class-CPP.html",children:"Parameters in ROS 2"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://docs.ros.org/en/humble/Tutorials/Intermediate/Launch/Creating-Launch-Files.html",children:"Launch File Best Practices"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"review-questions",children:"Review Questions"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"What is the difference between launch arguments and parameters?"}),"\n",(0,s.jsx)(n.li,{children:"When would you use a ComposableNodeContainer instead of regular nodes?"}),"\n",(0,s.jsx)(n.li,{children:"Explain how parameter files can be used to manage different robot configurations."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"practical-exercises",children:"Practical Exercises"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Create a launch file that starts a publisher and subscriber node"}),"\n",(0,s.jsx)(n.li,{children:"Create a parameter file and use it in your launch file"}),"\n",(0,s.jsx)(n.li,{children:"Implement a launch file with arguments that change node behavior"}),"\n",(0,s.jsx)(n.li,{children:"Create a launch file that starts multiple nodes with different namespaces"}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>t,x:()=>o});var a=i(6540);const s={},r=a.createContext(s);function t(e){const n=a.useContext(r);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:t(e.components),a.createElement(r.Provider,{value:n},e.children)}}}]);