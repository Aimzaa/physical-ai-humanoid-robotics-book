"use strict";(globalThis.webpackChunkphysical_ai_humanoid_robotics_book=globalThis.webpackChunkphysical_ai_humanoid_robotics_book||[]).push([[511],{6007:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>l,contentTitle:()=>c,default:()=>h,frontMatter:()=>t,metadata:()=>i,toc:()=>a});const i=JSON.parse('{"id":"module-1-robotic-nervous-system/chapter-1-2-nodes-topics-services","title":"Nodes, Topics, Services, and Actions","description":"Goal","source":"@site/docs/module-1-robotic-nervous-system/chapter-1-2-nodes-topics-services.md","sourceDirName":"module-1-robotic-nervous-system","slug":"/module-1-robotic-nervous-system/chapter-1-2-nodes-topics-services","permalink":"/physical-ai-humanoid-robotics-book/docs/module-1-robotic-nervous-system/chapter-1-2-nodes-topics-services","draft":false,"unlisted":false,"editUrl":"https://github.com/your-org/physical-ai-humanoid-robotics-book/tree/main/docs/module-1-robotic-nervous-system/chapter-1-2-nodes-topics-services.md","tags":[],"version":"current","frontMatter":{"id":"chapter-1-2-nodes-topics-services","title":"Nodes, Topics, Services, and Actions","sidebar_label":"Nodes, Topics, Services, and Actions"},"sidebar":"book","previous":{"title":"Introduction to ROS 2 Architecture","permalink":"/physical-ai-humanoid-robotics-book/docs/module-1-robotic-nervous-system/chapter-1-1-introduction-ros2"},"next":{"title":"URDF for Humanoid Robots","permalink":"/physical-ai-humanoid-robotics-book/docs/module-1-robotic-nervous-system/chapter-1-3-urdf-humanoid-robots"}}');var r=n(4848),o=n(8453);const t={id:"chapter-1-2-nodes-topics-services",title:"Nodes, Topics, Services, and Actions",sidebar_label:"Nodes, Topics, Services, and Actions"},c="Nodes, Topics, Services, and Actions",l={},a=[{value:"Goal",id:"goal",level:2},{value:"Learning Objectives",id:"learning-objectives",level:2},{value:"Overview",id:"overview",level:2},{value:"Key Concepts",id:"key-concepts",level:2},{value:"Step-by-Step Breakdown",id:"step-by-step-breakdown",level:2},{value:"Code Examples",id:"code-examples",level:2},{value:"Diagrams",id:"diagrams",level:2},{value:"Case Study",id:"case-study",level:2},{value:"References",id:"references",level:2},{value:"Review Questions",id:"review-questions",level:2},{value:"Practical Exercises",id:"practical-exercises",level:2}];function d(e){const s={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,o.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(s.header,{children:(0,r.jsx)(s.h1,{id:"nodes-topics-services-and-actions",children:"Nodes, Topics, Services, and Actions"})}),"\n",(0,r.jsx)(s.h2,{id:"goal",children:"Goal"}),"\n",(0,r.jsx)(s.p,{children:"Understand the fundamental communication patterns in ROS 2: nodes, topics, services, and actions, and how they apply to humanoid robotics systems."}),"\n",(0,r.jsx)(s.h2,{id:"learning-objectives",children:"Learning Objectives"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Define and create ROS 2 nodes for humanoid robot applications"}),"\n",(0,r.jsx)(s.li,{children:"Implement publisher-subscriber communication using topics"}),"\n",(0,r.jsx)(s.li,{children:"Create request-response communication using services"}),"\n",(0,r.jsx)(s.li,{children:"Understand when to use actions for long-running tasks"}),"\n",(0,r.jsx)(s.li,{children:"Compare communication patterns and select the appropriate one for different humanoid robot scenarios"}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"overview",children:"Overview"}),"\n",(0,r.jsx)(s.p,{children:"ROS 2 provides four main communication patterns that enable nodes to interact with each other: topics (publish/subscribe), services (request/response), actions (goal/cancel/result feedback), and parameters (configuration). These patterns are essential for building complex humanoid robot systems where multiple components need to coordinate their behavior."}),"\n",(0,r.jsx)(s.h2,{id:"key-concepts",children:"Key Concepts"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Nodes"}),": Processes that perform computation and are the basic building blocks of ROS 2 programs"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Topics"}),": Named buses over which nodes exchange messages in a publish/subscribe pattern"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Services"}),": Synchronous request/response communication pattern"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Actions"}),": Asynchronous communication pattern for long-running tasks with feedback"]}),"\n",(0,r.jsxs)(s.li,{children:[(0,r.jsx)(s.strong,{children:"Messages"}),": Data structures that are passed between nodes"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"step-by-step-breakdown",children:"Step-by-Step Breakdown"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Creating Nodes"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"A node is an executable that uses ROS 2 to communicate with other nodes"}),"\n",(0,r.jsx)(s.li,{children:"Each node runs in its own process and can communicate with other nodes"}),"\n",(0,r.jsx)(s.li,{children:"Nodes are organized into packages for better modularity"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Topics and Publishers/Subscribers"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Topics enable asynchronous communication between nodes"}),"\n",(0,r.jsx)(s.li,{children:"Publishers send messages to topics"}),"\n",(0,r.jsx)(s.li,{children:"Subscribers receive messages from topics"}),"\n",(0,r.jsx)(s.li,{children:"Multiple publishers and subscribers can use the same topic"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Services"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Services provide synchronous request/response communication"}),"\n",(0,r.jsx)(s.li,{children:"A service client sends a request and waits for a response"}),"\n",(0,r.jsx)(s.li,{children:"A service server processes the request and sends back a response"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Actions"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Actions are designed for long-running tasks"}),"\n",(0,r.jsx)(s.li,{children:"They provide goal, feedback, and result mechanisms"}),"\n",(0,r.jsx)(s.li,{children:"Actions can be preempted or canceled"}),"\n"]}),"\n"]}),"\n",(0,r.jsxs)(s.li,{children:["\n",(0,r.jsx)(s.p,{children:(0,r.jsx)(s.strong,{children:"Message Types"})}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:"Messages define the data structure for communication"}),"\n",(0,r.jsx)(s.li,{children:"Common types include std_msgs, sensor_msgs, geometry_msgs"}),"\n",(0,r.jsx)(s.li,{children:"Custom message types can be defined for specific applications"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"code-examples",children:"Code Examples"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{className:"language-python",children:"# Example ROS 2 Node with Publisher and Subscriber\nimport rclpy\nfrom rclpy.node import Node\nfrom std_msgs.msg import String\n\nclass MinimalPublisher(Node):\n\n    def __init__(self):\n        super().__init__('minimal_publisher')\n        self.publisher_ = self.create_publisher(String, 'topic', 10)\n        timer_period = 0.5  # seconds\n        self.timer = self.create_timer(timer_period, self.timer_callback)\n        self.i = 0\n\n    def timer_callback(self):\n        msg = String()\n        msg.data = 'Hello World: %d' % self.i\n        self.publisher_.publish(msg)\n        self.get_logger().info('Publishing: \"%s\"' % msg.data)\n        self.i += 1\n\nclass MinimalSubscriber(Node):\n\n    def __init__(self):\n        super().__init__('minimal_subscriber')\n        self.subscription = self.create_subscription(\n            String,\n            'topic',\n            self.listener_callback,\n            10)\n        self.subscription  # prevent unused variable warning\n\n    def listener_callback(self, msg):\n        self.get_logger().info('I heard: \"%s\"' % msg.data)\n\ndef main(args=None):\n    rclpy.init(args=args)\n    minimal_publisher = MinimalPublisher()\n    minimal_subscriber = MinimalSubscriber()\n\n    rclpy.spin_once(minimal_publisher)\n    rclpy.spin_once(minimal_subscriber)\n\n    minimal_publisher.destroy_node()\n    minimal_subscriber.destroy_node()\n    rclpy.shutdown()\n\nif __name__ == '__main__':\n    main()\n"})}),"\n",(0,r.jsx)(s.h2,{id:"diagrams",children:"Diagrams"}),"\n",(0,r.jsx)(s.pre,{children:(0,r.jsx)(s.code,{children:"Topic Communication (Publisher-Subscriber):\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Publisher   \u2502              \u2502 Subscriber  \u2502\n\u2502             \u2502 publish(msg) \u2502             \u2502\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502 \u2502 Topic   \u2502 \u2502              \u2502 \u2502 Topic   \u2502 \u2502\n\u2502 \u2502 (bus)   \u2502 \u2502 \u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502 \u2502 (bus)   \u2502 \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502    msg       \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n\nService Communication (Request-Response):\n\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510              \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502 Client      \u2502              \u2502 Server      \u2502\n\u2502             \u2502 req          \u2502             \u2502\n\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502 \u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u25b6\u2502 \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510 \u2502\n\u2502 \u2502 Service \u2502 \u2502              \u2502 \u2502 Service \u2502 \u2502\n\u2502 \u2502 Request \u2502 \u2502 \u25c0\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2502 \u2502 Response\u2502 \u2502\n\u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502    resp      \u2502 \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518              \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n"})}),"\n",(0,r.jsx)(s.h2,{id:"case-study",children:"Case Study"}),"\n",(0,r.jsx)(s.p,{children:"In a humanoid robot, the head node might publish camera images to a topic that multiple other nodes subscribe to: the perception node for object recognition, the localization node for visual odometry, and the UI node for displaying the camera feed. Meanwhile, the planning node might use a service to request path planning from a navigation server, and the walking controller might use an action to execute a walking gait with continuous feedback about the robot's balance."}),"\n",(0,r.jsx)(s.h2,{id:"references",children:"References"}),"\n",(0,r.jsxs)(s.ul,{children:["\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"https://docs.ros.org/en/humble/Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Nodes.html",children:"ROS 2 Tutorials - Nodes"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"https://docs.ros.org/en/humble/Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Topics.html",children:"ROS 2 Tutorials - Topics"})}),"\n",(0,r.jsx)(s.li,{children:(0,r.jsx)(s.a,{href:"https://docs.ros.org/en/humble/Tutorials/Beginner-CLI-Tools/Understanding-ROS2-Services.html",children:"ROS 2 Tutorials - Services"})}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"review-questions",children:"Review Questions"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"What is the main difference between topics and services in ROS 2?"}),"\n",(0,r.jsx)(s.li,{children:"When should you use actions instead of services?"}),"\n",(0,r.jsx)(s.li,{children:"Explain the publish-subscribe pattern and give an example of its use in humanoid robotics."}),"\n"]}),"\n",(0,r.jsx)(s.h2,{id:"practical-exercises",children:"Practical Exercises"}),"\n",(0,r.jsxs)(s.ol,{children:["\n",(0,r.jsx)(s.li,{children:"Create a simple publisher node that publishes counter values"}),"\n",(0,r.jsx)(s.li,{children:"Create a subscriber node that receives and logs the counter values"}),"\n",(0,r.jsx)(s.li,{children:"Create a service server that responds to simple math operations"}),"\n",(0,r.jsx)(s.li,{children:"Create a service client that calls the math service"}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,r.jsx)(s,{...e,children:(0,r.jsx)(d,{...e})}):d(e)}},8453:(e,s,n)=>{n.d(s,{R:()=>t,x:()=>c});var i=n(6540);const r={},o=i.createContext(r);function t(e){const s=i.useContext(o);return i.useMemo(function(){return"function"==typeof e?e(s):{...s,...e}},[s,e])}function c(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:t(e.components),i.createElement(o.Provider,{value:s},e.children)}}}]);